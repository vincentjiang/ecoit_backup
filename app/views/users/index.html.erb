<%= provide :title, "Listing users" %>

<h1>Listing users</h1>

<div class="table-responsive">
  <table class="table table-striped table-hover table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Role</th>
        <th>Action</th>
      </tr>
    </thead>

    <tbody>
      <% @users.each do |user| %>
        <tr>
          <td><%= user.name %></td>
          <td><%= user.email %></td>
          <td><%= user.admin ? "Admin" : "Common user" %></td>
          <td>

            <%= link_to edit_user_path(user), class: "btn btn-warning btn-xs show-tootip", "data-toggle" => "tooltip", "data-placement" => "top", title: "Edit user" do %>
              <i class="fa fa-pencil"></i>
            <% end %>

            <%= link_to reset_password_path(user), data: { confirm: "Are you sure to reset password to 999999 ?" }, class: "btn btn-info btn-xs show-tootip", "data-toggle" => "tooltip", "data-placement" => "top", title: "Reset password" do %>
              <i class="fa fa-key"></i>
            <% end %>

            <% unless user == current_user %>
              <%= link_to user, method: :delete, data: { confirm: "Are you sure to delete user #{user.name} ?" }, class: "btn btn-danger btn-xs show-tootip", "data-toggle" => "tooltip", "data-placement" => "top", title: "Delete user" do %>
                <i class="fa fa-trash-o"></i>
              <% end %>
            <% end %>

          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<br>

<%= link_to 'New User', new_user_path, class: "btn btn-primary" %>
